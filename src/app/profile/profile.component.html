<section class="user-details">
  <div class="row">
    <div class="col-md-12 text-right filter-dv">
      <ul class="list-inline">
        <li class="list-inline-item">Filtrée par :</li>
        <li class="list-inline-item">
          <mat-form-field>
            <mat-select placeholder="Site de plongée" (selectionChange)="setStatistics($event)">
              <mat-option *ngFor="let divesite of userDiveSites" [value]="divesite">
                {{ divesite.name }}
              </mat-option>
              <mat-option  value="tous">Tous</mat-option>
            </mat-select>
          </mat-form-field>
        </li>
        <li class="list-inline-item">
          <mat-form-field>
            <mat-select placeholder="Année" (selectionChange)="setStatisticsByDate($event)">
              <mat-option  [value]="2017">2017</mat-option>
              <mat-option  [value]="2018">2018</mat-option>
              <mat-option  [value]="2019">2019</mat-option>
              <mat-option  value="tous">Toutes</mat-option>
            </mat-select>
          </mat-form-field>
        </li>
      </ul>
    </div>
  </div>
  <div class="row justify-content-center">
    <div class="text-center position-relative px-5">
      <button mat-mini-fab class="position-absolute btn-edit" (click)="openProfileForm()">
        <mat-icon>edit</mat-icon>
      </button>
      <h1>{{ user.firstname}} {{ user.lastname }}</h1>
      <h5>{{ user.email }}</h5>
      <h5>{{ user.phone }}</h5>
      <h5>{{ user.address }}</h5>
      <h5>{{ user.zip }} {{ user.city }}</h5>
      <h5>{{ countries[user.country] }}</h5>
      <div class="boats" *ngIf="displayBoats.boats.length">
        <span class="text-uppercase">Vos bateaux :</span>
        <ul class="list-inline list-boats">
          <li class="list-inline-item" *ngFor="let boat of displayBoats.boats">{{ boat.name }}</li>
        </ul>
        <span class="delta" *ngIf="displayBoats.delta">+{{ displayBoats.delta }}</span>
      </div>
    </div>
  </div>
  <div class="row text-center kpis">
    <div class="col">
      <h1>{{ nbrDives }}</h1>
      <span>Plongées</span>
      <!--<a class="all-site" href="#">tous les sites</a> -->
    </div>
    <div class="col">
      <h1>{{ roundToInt(nbrHoursInWater) | number}}</h1>
      <span>Heures sous l'eau</span>
      <!--<a class="all-site" href="#">tous les sites</a> -->
    </div>
    <div class="col">
      <h1>{{ sites.length }}</h1>
      <span>sites explorés</span>
      <!--<a class="all-site" href="#">tous les sites</a> -->
    </div>
    <div class="col">
      <h1>{{ (nbrDives/nbrDivesMonths | number) || 0}}</h1>
      <span>Plongées par mois</span>
      <!--<a class="all-site" href="#">tous les sites</a> -->
    </div>
  </div>
</section>
<section>
  <div class="row">
    <div class="col-md-12">
      <chart [options]="options"></chart>
    </div>
  </div>
</section>
<section>
  <h2>Mes sites de plongées</h2>
  <div id="leafletmap" style="height: 400px;"
       leaflet
       [leafletOptions]="leafletOptions"
       (leafletMapReady)="onMapReady($event)">
  </div>
</section>
